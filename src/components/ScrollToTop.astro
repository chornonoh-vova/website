---
import Arrow from "../assets/icons/arrow.svg";
---

<button
  id="scroll-to-top"
  class="group invisible sticky right-0 bottom-4 mr-2 ml-auto flex w-fit flex-nowrap items-center gap-1.5 rounded border border-neutral-200 bg-neutral-50 py-2 pr-2.5 pl-4 transition-colors duration-300 ease-in-out hover:text-black dark:border-neutral-700 dark:bg-neutral-900 dark:hover:text-white"
>
  <span class="text-sm"> Scroll to top </span>
  <Arrow
    class="size-4 rotate-90"
    aria-hidden="true"
    focusable="false"
    role="img"
  />
</button>

<script is:inline data-astro-rerun type="module">
  const scrollToTop = document.getElementById("scroll-to-top");

  window.addEventListener(
    "scroll",
    () => {
      if (!scrollToTop) return;

      scrollToTop.classList.toggle(
        "invisible",
        !(window.scrollY > window.innerHeight / 2),
      );
    },
    { passive: true },
  );

  scrollToTop?.addEventListener("click", () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  });
</script>
